@inherits System.Web.WebPages.WebPage

<div class="desktop_registerbox">
	@if (Model.RegisterLink.IsAuthenticated)
	{
		<div class="dropdown">
			<a href="#" role="button" class="dropdown-toggle" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">

				@if (Model.RegisterLink.ShowAvatar)
				{
					<img class="useravatar" title="@Model.RegisterLink.UserInfo.DisplayName" alt="@Model.RegisterLink.UserInfo.DisplayName" src="@Model.RegisterLink.PhotoURL" />
				}
				<span class="display-name">@Model.RegisterLink.UserInfo.DisplayName</span>
				@if (Model.RegisterLink.ShowNotification && Model.RegisterLink.NotificationCount > 0)
				{
					<a class="registerlink-notification" onclick="OpenPopUp('',600,'right','[LS:Notification]','@Model.RegisterLink.NotificationExtensionURL')">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" height="15" width="15"><path d="M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z" /></svg>
						<sup><strong>@Model.RegisterLink.NotificationCount</strong></sup>
					</a>
				}
			</a>
			<ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
				<li>
					<a href="@Model.RegisterLink.UserProfileURL">
						@if (Model.RegisterLink.ShowAvatar)
						{
							<img class="useravatar" title="@Model.RegisterLink.UserInfo.DisplayName" alt="@Model.RegisterLink.UserInfo.DisplayName" src="@Model.RegisterLink.PhotoURL" />
						}
						<span class="display-name">@Model.RegisterLink.UserInfo.DisplayName</span>
					</a>
				</li>
				<li>
					<a class="profile-link" href="@Model.RegisterLink.UserProfileURL">
						<span>[LS:MyProfile]</span>
					</a>
				</li>
				<li>
					<a class="login-link" href="@Model.LoginLink.Url">
						<span>[LS:Data.Block.LoginLink.LogoutText]</span>
					</a>
				</li>
			</ul>
		</div>
	}
	else
	{
		if (Model.RegisterLink.ShowSignInLink)
		{
			<a href="@Model.LoginLink.Url" class="loginuser">
				<span>[LS:Data.Block.LoginLink.LoginText]</span>
			</a>
		}
		else
		{
			<span>[LS:Data.Block.LoginLink.LoginText]</span>
		}
	}
</div>

<div class="mobile_registerbox">
	@if (Model.RegisterLink.IsAuthenticated)
	{
		<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal">
			<span class="visually-hidden">User Information</span>
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="32">
				<path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z">
				</path>
			</svg>
		</button>
		<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">[LS:Data.Block.LoginLink.LoginText]</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body text-center">
						@if (Model.RegisterLink.ShowAvatar)
						{
							<img class="useravatar" title="@Model.RegisterLink.UserInfo.DisplayName" alt="@Model.RegisterLink.UserInfo.DisplayName" src="@Model.RegisterLink.PhotoURL" />
							<br /><br />
						}
						<p class="display-name">
							<span>@Model.RegisterLink.UserInfo.DisplayName </span>
							@if (Model.RegisterLink.ShowNotification && Model.RegisterLink.NotificationCount > 0)
							{
								<a class="registerlink-notification" onclick="OpenPopUp('',600,'right','[LS:Notification]','@Model.RegisterLink.NotificationExtensionURL')">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" height="15" width="15"><path d="M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z" /></svg>
									<sup><strong>@Model.RegisterLink.NotificationCount</strong></sup>
								</a>
							}
						</p>
						<a class="profile-link" href="@Model.RegisterLink.UserProfileURL">
							<p>[LS:MyProfile]</p>
						</a>
						<a class="login-link" href="@Model.LoginLink.Url">
							<span>[LS:Data.Block.LoginLink.LogoutText]</span>
						</a>
					</div>
				</div>
			</div>
		</div>
	}
	else
	{
		if (Model.RegisterLink.ShowSignInLink)
		{
			<a href="@Model.LoginLink.Url" class="loginuser">
				<span class="visually-hidden">[LS:Data.Block.LoginLink.LoginText]</span>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="32">
					<path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z">
					</path>
				</svg>
			</a>
		}
		else
		{
			<span class="visually-hidden">[LS:Data.Block.LoginLink.LoginText]</span>
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="32">
				<path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z">
				</path>
			</svg>
		}
	}
</div>